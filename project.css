/* Reuse your variables from styles.css */

.muted { color: var(--muted); }
.proj-hero .wrap {
  display: grid; grid-template-columns: 1.1fr .9fr; gap: 2rem; padding: 3.6rem 1.2rem;
}
.back { color: var(--muted); text-decoration: none; display: inline-block; margin-bottom: .6rem; }
.proj-facts { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: .6rem; padding: 0; list-style: none; }
.proj-facts li {
  background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: .7rem .8rem;
}
.proj-facts a { color: var(--fg); text-decoration: none; }
.proj-facts a:hover { color: var(--accent); }

/* Angled 3D-ish phone tilt */
.hero-render { display:flex; align-items:center; justify-content:center; }
.phone-tilt {
  perspective: 1200px; margin: 0;
}
.phone-tilt img {
  width: 100%; max-width: 520px; border-radius: 28px; border: 1px solid var(--border);
  transform: rotateX(10deg) rotateY(-14deg) rotateZ(2deg);
  box-shadow: 0 30px 60px color-mix(in oklab, black, transparent 70%);
  transition: transform .4s ease;
}
.phone-tilt:hover img { transform: rotateX(0) rotateY(0) rotateZ(0); }

/* Feature chips */
.feature-strip { padding: 1rem 0 0; }
.features { display: flex; flex-wrap: wrap; gap: .6rem; padding: 0; list-style: none; }
.features li {
  padding: .5rem .7rem; border: 1px solid var(--border); background: var(--card);
  border-radius: 999px; font-size: .95rem;
}

/* Masonry gallery */
.proj-gallery { padding: 1rem 0 2.4rem; }
.masonry { column-count: 3; column-gap: 1rem; }
.masonry figure { break-inside: avoid; margin: 0 0 1rem; }
.masonry img {
  width: 100%; border-radius: 16px; border: 1px solid var(--border);
  display: block;
}
.masonry figcaption { color: var(--muted); font-size: .9rem; margin-top: .35rem; }

/* Write-up */
.proj-writeup { padding-bottom: 3rem; }
.proj-writeup h3 { margin-top: 1.6rem; }

/* CTA */
.proj-cta { padding: 0 0 3rem; }
.cta-card {
  display: grid; gap: .6rem; padding: 1.2rem; border: 1px solid var(--border);
  background: var(--card); border-radius: 12px; max-width: 720px;
}

/* Lightbox */
.lightbox {
  position: fixed; inset: 0; background: color-mix(in oklab, black, transparent 10%);
  display: none; align-items: center; justify-content: center; z-index: 100;
  backdrop-filter: blur(6px);
}
.lightbox[aria-hidden="false"] { display: flex; }
.lightbox img {
  max-width: min(92vw, 1400px); max-height: 84vh; border-radius: 10px; border: 1px solid var(--border);
}
.lb-close, .lb-nav {
  position: absolute; background: color-mix(in oklab, var(--card), black 10%);
  color: var(--fg); border: 1px solid var(--border); border-radius: .5rem; cursor: pointer;
  padding: .5rem .7rem;
}
.lb-close { top: 1rem; right: 1rem; }
.lb-nav.prev { left: 1rem; }
.lb-nav.next { right: 1rem; }

/* Responsive */
@media (max-width: 980px) {
  .proj-hero .wrap { grid-template-columns: 1fr; }
  .masonry { column-count: 2; }
}
@media (max-width: 640px) {
  .masonry { column-count: 1; }
}

/* === Store screenshots === */
.store-shots { padding: 1rem 0 2.5rem; }

.stores {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.6rem;
}

.store-block { background: transparent; }

.store-head {
  display: flex;
  align-items: center;
  gap: .6rem;
  margin-bottom: .8rem;
}

.store-badge {
  width: 28px;
  height: 28px;
  display: block;
  opacity: .85;
}

.shot-row {
  display: flex;
  flex-wrap: wrap;
  gap: .9rem;
}

/* карточка скрина */
.store-shot {
  width: clamp(160px, 28vw, 220px);
  margin: 0;
}

.store-shot .device-frame {
  background: color-mix(in oklab, var(--card), black 6%);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 8px; /* «рамка» устройства */
  box-shadow: 0 8px 24px color-mix(in oklab, black, transparent 82%);
  transition: transform .18s ease, box-shadow .18s ease;
}

.store-shot img {
  display: block;
  width: 100%;
  height: auto;
  border-radius: 12px;
  border: 1px solid var(--border);
  cursor: zoom-in;
  background: color-mix(in oklab, var(--card), black 4%); /* на случай, если картинка грузится */
}

.store-shot:hover .device-frame {
  transform: translateY(-2px);
  box-shadow: 0 14px 34px color-mix(in oklab, black, transparent 78%);
}

.store-caption {
  color: var(--muted);
  font-size: .9rem;
  margin-top: .45rem;
  text-align: center;
}

/* === Доработка лайтбокса для удобства клика === */
.lb-nav,
.lb-close {
  z-index: 101; /* поверх картинки */
}

/* === Адаптив === */
@media (max-width: 980px) {
  .stores { grid-template-columns: 1fr; }
  .shot-row { justify-content: center; }
  .store-shot { width: clamp(160px, 42vw, 240px); }
}

@media (max-width: 640px) {
  .store-shot { width: 100%; }
  .shot-row { gap: .8rem; }
}

#overview {
  white-space: pre-line; /* Preserves \n as line breaks */
}
